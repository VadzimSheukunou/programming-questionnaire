{"version":3,"sources":["../../src/db-models/index.js"],"names":["sequelize","process","env","DATABASE_CONNECTION_STRING","Sequelize","DATABASE","DATABASE_USER","DATABASE_PASSWORD","dialect","models","User","Questionnaire","Question","Answer","Progress","ProgressAnswer","Object","keys","forEach","key","associate"],"mappings":";;;;;;;;;AAAA;;AACA,IAAIA,SAAJ;;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,0BAAhB,EAA4C;AAC1C,sBAAAH,SAAS,GAAG,IAAII,qBAAJ,CAAcH,OAAO,CAACC,GAAR,CAAYC,0BAA1B,CAAZ;AACD,CAFD,MAEO;AACL,sBAAAH,SAAS,GAAG,IAAII,qBAAJ,CACVH,OAAO,CAACC,GAAR,CAAYG,QADF,EAEVJ,OAAO,CAACC,GAAR,CAAYI,aAFF,EAGVL,OAAO,CAACC,GAAR,CAAYK,iBAHF,EAIV;AACEC,IAAAA,OAAO,EAAE;AADX,GAJU,CAAZ;AAQD;;AAED,IAAMC,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAEV,SAAS,UAAT,CAAiB,QAAjB,CADO;AAEbW,EAAAA,aAAa,EAAEX,SAAS,UAAT,CAAiB,iBAAjB,CAFF;AAGbY,EAAAA,QAAQ,EAAEZ,SAAS,UAAT,CAAiB,YAAjB,CAHG;AAIba,EAAAA,MAAM,EAAEb,SAAS,UAAT,CAAiB,UAAjB,CAJK;AAKbc,EAAAA,QAAQ,EAAEd,SAAS,UAAT,CAAiB,YAAjB,CALG;AAMbe,EAAAA,cAAc,EAAEf,SAAS,UAAT,CAAiB,mBAAjB;AANH,CAAf;AASAgB,MAAM,CAACC,IAAP,CAAYR,MAAZ,EAAoBS,OAApB,CAA4B,UAAAC,GAAG,EAAI;AACjC,MAAI,eAAeV,MAAM,CAACU,GAAD,CAAzB,EAAgC;AAC9BV,IAAAA,MAAM,CAACU,GAAD,CAAN,CAAYC,SAAZ,CAAsBX,MAAtB;AACD;AACF,CAJD;eAQeA,M","sourcesContent":["import Sequelize from 'sequelize';\r\nlet sequelize;\r\n\r\nif (process.env.DATABASE_CONNECTION_STRING) {\r\n  sequelize = new Sequelize(process.env.DATABASE_CONNECTION_STRING);\r\n} else {\r\n  sequelize = new Sequelize(\r\n    process.env.DATABASE,\r\n    process.env.DATABASE_USER,\r\n    process.env.DATABASE_PASSWORD,\r\n    {\r\n      dialect: 'postgres',\r\n    },\r\n  );\r\n}\r\n\r\nconst models = {\r\n  User: sequelize.import('./user'),\r\n  Questionnaire: sequelize.import('./questionnaire'),\r\n  Question: sequelize.import('./question'),\r\n  Answer: sequelize.import('./answer'),\r\n  Progress: sequelize.import('./progress'),\r\n  ProgressAnswer: sequelize.import('./progress-answer')\r\n};\r\n\r\nObject.keys(models).forEach(key => {\r\n  if ('associate' in models[key]) {\r\n    models[key].associate(models);\r\n  }\r\n});\r\n\r\nexport { sequelize };\r\n\r\nexport default models;\r\n"],"file":"index.js"}